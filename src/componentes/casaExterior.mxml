<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="800" height="600" currentState="init"
		 xmlns:components="componentes.*">
	<s:states>
		<s:State name="init"/>
		<s:State name="baul"/>
		<s:State name="plato"/>
	</s:states>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	<fx:Script>
		<![CDATA[
			import clases.*;
			import mx.collections.ArrayCollection;
	
			[Bindable]
			public var animalSource:CasaExterior;
			[Bindable]
			public var animal:Animal;
			[Bindable]
			public var objetosComida:ArrayCollection;
			[Bindable]
			public var objetosJuguete: ArrayCollection;
			
			
			/*Funcion para bañar al animal*/
			public function bañarse():void{
				this.animal.higiene = 100;
				this.animal.experiencia = this.animal.experiencia + 20;
				
			}
			
			/*Funcion para alimentar al animal
			/ Recibe el objeto Comida
			*/
			public function alimentar():void{
				if((this.animal.hambre = this.animal.hambre + 20) >100){
					this.animal.hambre = 100;
					
				}
				this.animal.experiencia = this.animal.experiencia + 20;
				
			}
		
			/*Funcion para dormir*/
			public function dormir():void{
				this.animal.dormir=100;
				this.animal.experiencia = this.animal.experiencia + 20;
			}
			
			/*Funcion para diversion*/
			public function diversion():void{
				if ((this.animal.diversion= this.animal.diversion + 20) >100){
				  this.animal.diversion = 100;
				}
				this.animal.experiencia = this.animal.experiencia + 20;
			}
		
		
		]]>
	</fx:Script>
	
	<!-- Menu superior -->
	
	<components:menuSuperior animal="@{animal}">
	</components:menuSuperior>

	
	<mx:ViewStack id="casaExt">
		
	<!-- Exterior -->

	<s:NavigatorContent>
		
		<s:BorderContainer x="0" y="266" width="800" height="334" backgroundColor="#65FD70">
			
			<s:BorderContainer x="41" y="217" width="299" height="105">
				<s:Button x="113" y="34" label="Siembra" icon="{animalSource.imagenSiembra}" />
			</s:BorderContainer>
			
			<s:Button x="650" y="100" width="110" height="110" skinClass="skins.casa.baul"
					  x.init="650" y.init="80" width.init="120" height.init="120"/>
			
			<s:Button x="95" y="85" width="260" height="100" skinClass="skins.casa.lago"
					  x.init="114" y.init="33"/>
			
			<s:Button x="360" y="250" width="90" height="50" skinClass="skins.casa.plato"/>
			
		</s:BorderContainer>
		
		<s:BorderContainer x="0" y="69" width="800" height="199" backgroundColor="#3789EF">
			
			<s:Button x="650" y="120" width="120" height="100" skinClass="skins.casa.casa"
					  click="casaExt.selectedChild=casaInt"/>
						  
			<components:menuIzquierdo animal="{animal}"></components:menuIzquierdo>
					
		</s:BorderContainer>
		
		
		<s:Label x="496" y="296" text="{animal.tipo}"/>
	</s:NavigatorContent>
	
	<!-- Interior -->
		
	<s:NavigatorContent id="casaInt">
		<components:casaInterna animal="{animal}">
			
			
		</components:casaInterna>
		
	</s:NavigatorContent>
		
		
	</mx:ViewStack>
	
	<!-- Mapa -->
	
    <components:menuDerecho animal="{animal}"
							animalSource="@{animalSource}"
							objetosComida = "{objetosComida}"
							objetosJuguete= "{objetosJuguete}">
	   
    </components:menuDerecho>

</s:Group>
